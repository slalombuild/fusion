<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# terraform

```go
import "github.com/slalombuild/fusion/terraform"
```

Package terraform provides convenience utilities for working with the terraform command line tool programatically\.

## Index

- [Constants](<#constants>)
- [type Terraform](<#type-terraform>)
  - [func New(ctx context.Context, workingDir string) (*Terraform, error)](<#func-new>)
  - [func (t *Terraform) Cleanup() error](<#func-terraform-cleanup>)
  - [func (t *Terraform) Graph(w io.Writer) error](<#func-terraform-graph>)
  - [func (t *Terraform) RenderTemplate(r templates.Renderer) error](<#func-terraform-rendertemplate>)
  - [func (t *Terraform) Validate() error](<#func-terraform-validate>)


## Constants

```go
const (
    ErrTerraformInit     = "failed to perform terraform init"
    ErrTerraformValidate = "failed to perform terraform validate"
    ErrTerraformGraph    = "failed to perform terraform graph"
)
```

## type [Terraform](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L21-L26>)

```go
type Terraform struct {
    // contains filtered or unexported fields
}
```

### func [New](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L31>)

```go
func New(ctx context.Context, workingDir string) (*Terraform, error)
```

New creates a new instance of the Terraform library with error logging\, initialization\, and a terraform executable fallback built\-in\.

### func \(\*Terraform\) [Cleanup](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L107>)

```go
func (t *Terraform) Cleanup() error
```

Cleanup cleans the temporary directories created during terraform execution

### func \(\*Terraform\) [Graph](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L86>)

```go
func (t *Terraform) Graph(w io.Writer) error
```

Graph initalizes and converts valid terraform into a GraphViz visualization\.

### func \(\*Terraform\) [RenderTemplate](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L61>)

```go
func (t *Terraform) RenderTemplate(r templates.Renderer) error
```

RenderTemplate renders the terraform template to the temp dir and cleans up after

### func \(\*Terraform\) [Validate](<https://github.com/slalombuild/fusion/blob/main/terraform/terraform.go#L77>)

```go
func (t *Terraform) Validate() error
```

Validate validates terraform in the working directory\.

<details><summary>Example</summary>
<p>

```go
package main

import (
	"context"
	"github.com/slalombuild/fusion/templates/aws"
	"github.com/slalombuild/fusion/terraform"
	"log"
)

func main() {
	// Create a new terraform instance
	tf, err := terraform.New(context.Background(), ".")
	if err != nil {
		log.Fatal(err)
	}

	// Build a new lambda function
	lambda := aws.NewLambdaFunction("foo", "index.js", "handler", "GO1.X")

	// Render the template to the terraform temp dir
	err = tf.RenderTemplate(lambda)
	if err != nil {
		log.Fatal(err)
	}

	// Validate terraform in temp dir
	err = tf.Validate()
	if err != nil {
		log.Fatal(err)
	}
}
```

</p>
</details>



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
